<?xml version="1.0" encoding="utf-8"?>
<odoo>

    

    <template id="report_pos_document">
    

    <t t-name="XmlReceipt">
        <receipt align='center' width='40' value-thousands-separator='' >
            <t t-if='receipt.company_id.logo'>
                <img t-att-src='receipt.company_id.logo' />
                <br/>
            </t>
            <t t-else=''>
                <h1><t t-esc='receipt.company_id.name' /></h1>
                <br/>
            </t>
            <div font='b'>
                <!-- <t t-if='receipt.company_id.contact_address'>
                    <div><t t-esc='receipt.company.contact_address' /></div>
                </t> -->
                <t t-if='receipt.company_id.phone'>
                    <div>Tel:<t t-esc='receipt.company_id.phone' /></div>
                </t>
                <t t-if='receipt.company_id.vat'>
                    <div>VAT:<t t-esc='receipt.company_id.vat' /></div>
                </t>
                <t t-if='receipt.company_id.email'>
                    <div><t t-esc='receipt.company_id.email' /></div>
                </t>
                <t t-if='receipt.company_id.website'>
                    <div><t t-esc='receipt.company_id.website' /></div>
                </t>
                <!-- <t t-if='receipt.header_xml'>
                    <t t-raw='receipt.header_xml' />
                </t>
                <t t-else=''>
                   <t t-if='receipt.header'>
                    <div><t t-esc='receipt.header' /></div>
                    </t>
                </t> -->
                <t t-if='receipt.user_id'>
                    <div class='cashier'>
                        <div>--------------------------------</div>
                        <div>Served by <t t-esc='receipt.user_id.name' /></div>
                    </div>
                </t>
            </div>
            <br /><br />

            <!-- Orderlines -->

            <div class='orderlines' line-ratio='0.6'>
                <t t-foreach='receipt.lines' t-as='line'>
                    <t t-set='simple' t-value='line.discount == 0 and line.qty == 1' />
                    <t t-if='simple'>
                        <line>
                            <left><t t-esc='line.product_id.name' /></left>
                            <right><value t-att-value-decimals='2'><t t-esc='line.price_unit' /></value></right>
                        </line>
                        <!-- <t t-call="XmlReceiptWrappedProductNameLines"/> -->
                    </t>
                    <t t-if='simple'>
                    </t>
                    <t t-else=''>
                    
                        <line><left><t t-esc='line.product_id.name' /></left></line>
                        <!-- <t t-call="XmlReceiptWrappedProductNameLines"/>
                         -->
                        <t t-if='line.discount != 0'>
                            <line indent='1'><left>Discount: <t t-esc='line.discount' />%</left></line>
                        </t>
                        <line indent='1'>
                            <left>
                                <value t-att-value-decimals='2' value-autoint='on'>
                                    <t t-esc='line.qty' />
                                </value>
                                <!-- <t t-if='line.unit_name != "Unit(s)"'>
                                    <t t-esc='line.price_unit' /> 
                                </t> -->
                                x 
                                <value t-att-value-decimals='2'>
                                    <t t-esc='line.price_unit' />
                                </value>
                            </left>
                            <right>
                                <value t-att-value-decimals='2'><t t-esc='line.price_subtotal_incl' /></value>
                            </right>
                        </line>
                    </t>
                </t>
            </div>

            <!-- Subtotal -->

           

            <!-- Total -->

            <line><right>--------</right></line>
            <line class='total' size='double-height'>
                <left><pre>        TOTAL</pre></left>
                <right><value t-att-value-decimals='2'><t t-esc='receipt.amount_total' /></value></right>
            </line>
            <br/><br/>

            <!-- Payment Lines -->

            <t t-foreach='paymentlines' t-as='line'>
                <line>
                    <left><t t-esc='line.name' /></left>
                    <right><value t-att-value-decimals='2'><t t-esc='line.number'/></value></right>
                </line>
            </t>
            <br/> 

            <line size='double-height'>
                <left><pre>        CHANGE</pre></left>
                <right><value t-att-value-decimals='2'><t t-esc='receipt.amount_return' /></value></right>
            </line>
            <br/>
            
            <!-- Extra Payment Info -->

            <!-- <t t-if='receipt.total_discount'>
                <line>
                    <left>Discounts</left>
                    <right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.total_discount'/></value></right>
                </line>
            </t>
            <t t-if='taxincluded'>
                <t t-foreach='receipt.tax_details' t-as='tax'>
                    <line>
                        <left><t t-esc='tax.name' /></left>
                        <right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='tax.amount' /></value></right>
                    </line>
                </t>
                <line>
                    <left>Total Taxes</left>
                    <right><value t-att-value-decimals='pos.currency.decimals'><t t-esc='receipt.total_tax'/></value></right>
                </line>
            </t> -->

            <!-- <div class='before-footer' />

            
            <t t-if='receipt.footer_xml'>
                <t t-raw='receipt.footer_xml' />
            </t>
            <t t-else=''>
                <t t-if='receipt.footer'>
                    <br/>
                    <t t-esc='receipt.footer' />
                    <br/>
                    <br/>
                </t>
            </t> -->

            <div class='after-footer' />

            <br/>
            <div font='b'>
                <div><t t-esc='receipt.name' /></div>
                <div><t t-esc='receipt.date_order' /></div>
            </div>

        </receipt>
    </t>
    </template>


<template id="report_pos_order">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="receipt">
            <t t-call="pos_maxirest.report_pos_document" />
        </t>
    </t>
</template>



</odoo>
